<!DOCTYPE html>
<html lang="ko"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta th:replace="frame/head.html">
    <title>퀴즈</title>
</head>
<body>

<tbody>
<div class="container">
    <div class="timetable-img text-center">
        <img src="img/content/timetable.png" alt="">
    </div>
    <div class="table-responsive">
        <table class="table table-bordered text-center">

            <thead>


            <th:block  style="cursor: pointer;" th:each="i : ${#numbers.sequence(1,quizTest.size())}" >
                <td>
                    <a th:attr="href=${'?question_num=' + i} "
                       th:text="${i}"></a>
                    <input type="hidden" name="testId" th:value="${i}">
                </td>

            </th:block>
            </thead>

        </table>
    </div>
</div>
</tbody>

<input type="button" value="뒤로가기" th:onclick="| location.href='@{/s/quiz/list}'|">


<table class="table table-striped table-hover">
    <thead>
    <tr>
        <th>문제</th>
        <th>정답</th>

    </tr>

    </thead>
    <tbody>

    <tbody style="cursor: pointer;" >
<!--    <tr th:each="i : ${#numbers.sequence(0,quizTest.size()-1)}">-->

    <tr>
        <form form method="POST" id="write">
            <input type="hidden" id="csrf" th:attr="data-header-name=${_csrf.headerName}" th:name="${_csrf.getParameterName()}" th:value="${_csrf.token}"/>

            <td th:text="${quizTest.get(question_num).getQuestionNum()}"></td>
        <td th:text="${quizTest.get(question_num).getQuestion()}"></td>
        <td th:if="${quizTest.get(question_num).getCategory() eq 1}">
            <input  type="radio" name="answer" value="1">  1
            <input type="radio" name="answer" value="2">   2
            <input type="radio" name="answer" value="3">   3
            <input type="radio" name="answer" value="4">   4
            <input type="radio" name="answer" value="5">   5
        </td>

        <td th:if="${quizTest.get(question_num).getCategory() eq 2}">
            <input type="text" name="answer"   ></td>
        <td th:if="${quizTest.get(question_num).getCategory() eq 3}">
            <input  type="text" name="answer"  style="width:300px;height:200px;font-size:30px;"></td>
        <td><input type="submit" value="저장하기"></td>

        </form>
    </tr>

    </tbody>



</table>


<footer th:replace="frame/footer.html"></footer>
<script th:replace="frame/tail.html"></script>
<script>
    const btnPut = document.querySelector('#test');
    if (btnPut)
        btnPut.addEventListener('click', evt => {
            //const sid = document.querySelector('#syllabus').getAttribute('data-sid');
            location.href = '/s/quiztest' ;
        });
</script>
<script>
    const btnPut = document.querySelector('#put');
    if (btnPut)
        btnPut.addEventListener('click', evt => {
            //const sid = document.querySelector('#syllabus').getAttribute('data-sid');
            location.href = '/p/attendance/put';
        });
</script>

<script>
    function test(){
        if (!confirm("제출하시겠습니까? 제출하시면 수정이 불가능합니다")) {

        } else {
            document.location = '/s/quiz/list';
        }
    }
</script>
</body>
</html>
